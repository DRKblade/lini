lemonbar: '${greeting} ${cpu} ${memory} ${battery} ${date} ${sep}%{B-}'
  sep: '%{B#fff} '
  base: ${dep sep}%{B${B}} ${text}
  cached_base:$ clone base
    raw:$ cache 1000 ${dep calculation}

  B-base:$ array_cache 30 ${h_raw} ${color cielch(${L}, 1, ${H})}
    L: 0.7
    H:$ cmd echo $((${dep h_raw}*12))
  greeting.B:$ clone B-base
    h_raw:$ clock 50 30 0
  cpu.B:$ clone B-base
    h_raw:$ clock 50 30 5
  memory.B:$ clone B-base
    h_raw:$ clock 50 30 10
  battery.B:$ clone B-base
    h_raw:$ clock 50 30 15
  date.B:$ clone B-base
    h_raw:$ clock 50 30 20

  greeting:$ clone base
    text: Hello ${dep raw}
  cpu:$ clone cached_base
    text: CPU ${dep raw}
  memory:$ clone cached_base
    text: RAM ${dep raw}
  battery:$ clone cached_base
    text: BAT ${dep raw}
  date:$ clone base

lemonbar.greeting.raw:$ env USER
lemonbar.cpu.calculation:$ save last_status ${cmd ./scripts/cpu.sh ${last_status} ? N/A}
  last_status: 0 0
lemonbar.memory.calculation:$ cmd ./scripts/memory.sh ? N/A
lemonbar.battery.calculation:$ cmd ./scripts/battery.sh ${bat_name} ? N/A
  bat_name: BAT1
lemonbar.date.text:$ cmd date +%H:%M
